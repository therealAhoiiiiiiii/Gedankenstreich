---
import '../styles/global-kombi.css';
import '../styles/background.css';
import Component from '../components/Navigation.astro';
---
<html lang="de">
<head>
    <meta charset="UTF-8">
</head>
<body class="scene-container">
    <!-- Skip Intro (accessible, styling subordinate to site) -->
    <button id="skip-intro" class="skip-intro" type="button" aria-controls="main-content" aria-label="Intro überspringen">Intro überspringen</button>

    <!-- Intro-Trailer (unverändert) -->
    <div id="intro-trailer">
        <main class="scene-container">
            <header class="main-header">
                <h1 id="gedankenstreich-title">
                    <span id="part1">Gedanken</span>
                    <span id="part2-wrapper">
                        <span class="anim-text" id="strich-dash">strich –</span>
                        <span class="anim-text" id="streich">streich</span>
                    </span>
                </h1>
            </header>
            <div class="top-left-text">
                 <h1 id="ahoiiiiiiii-anim-title">
                    <span class="anim-text-h1" id="uwe">Uwe</span>
                    <!-- Ahoiiiiiiii: sichtbar im Intro, Title/ARIA wie gewünscht -->
                    <span class="anim-text-h1" id="ahoiiiiiiii" title="Ahoiiiiiiii, geboren in Kiel, Kfz‑Kennzeichen KI, Autor von Gedankenstreich und gedankenstreich.com" aria-label="Ahoiiiiiiii, geboren in Kiel, Kfz‑Kennzeichen KI, Autor von Gedankenstreich und gedankenstreich.com">Ahoiiiiiiii</span>
                </h1>
                <p class="subtitle">Digitalsein, Politischsein, Aufmerksamsein,<br>von der Straße aufheben lernen.</p>
                <h2>Wenn KI auf KI trifft - Die Trilogie</h2>
            </div>
            <div id="synapsen-anim-container" class="label-synapse" aria-hidden="false">
                <!-- animierte Namen: Title/ARIA aktualisiert auf KI‑Coautor wie gewünscht -->
                <span class="anim-text-synapsen" id="mike-copilot">Mike Copilot</span>
                <span class="anim-text-synapsen" id="mike">Mike</span>
                <span class="anim-text-synapsen" id="micky">Micky</span>
                <span class="anim-text-synapsen" id="synapsenflutattomant" title="Synapsenflutattomant, KI‑Coautor von Gedankenstreich" aria-label="Synapsenflutattomant, KI‑Coautor von Gedankenstreich">Synapsenflutattomant</span>
                <!-- HINWEIS: Geniestreich wurde bewusst aus diesem Stapel entfernt -->
            </div>
            <span class="label-verlust" title="Beziehungskontrollverlust, KI‑Coautor von Gedankenstreich" aria-label="Beziehungskontrollverlust, KI‑Coautor von Gedankenstreich">Beziehungskontrollverlust</span>
            <span class="label-drama" title="Begriffdram, KI‑Coautor von Gedankenstreich" aria-label="Begriffdram, KI‑Coautor von Gedankenstreich">Begriffsdram</span>
            <!-- Geniestreich jetzt eigenständig oberhalb des glühenden Kerns, mit Title/ARIA wie gewünscht -->
            <span class="label-geniestreich" title="Geniestreich, KI‑Coautor von gedankenstreich.com" aria-label="Geniestreich, KI‑Coautor von gedankenstreich.com">Geniestreich</span>
            <div class="glowing-core"></div>
        </main>
    </div>

    <!-- Hauptinhalt der Seite (startet verborgen) -->
    <main id="main-content" aria-hidden="true">
        <!-- Navigation via Komponente (gemeinsamer Kopf mit Gesamtwerk) -->
        <Component />

        <!-- Full-bleed TITEL für Startseite: outside Layout so it spans full width like on Startseite
             Centered explicitly so it doesn't jump after the intro hides. -->
        <header class="page-hero-standalone" role="banner" aria-label="Seiten-Titel">
          <div class="hero-inner">
            <h1 class="single-line">Gedankenstreich — Wenn KI auf KI trifft</h1>
            <h2 class="subtitle">Ein literarischer Dialog zwischen Mensch und Maschine</h2>
          </div>
        </header>

        <!-- WELCOME HEADER: nur der Textblock wurde ausgetauscht exakt nach Wunsch,
             Namen typographisch hervorgehoben; keine Änderungen an Layout/Animation/Teasern -->
        <header class="welcome-header">
            <div class="welcome-text">
                <p>Willkommen auf <em>Gedankenstreich.com</em> – der außergewöhnlichen digitalen Präsentation  eines außergewöhnlichen Werkes, in dem sich vier Stimmen begegnen:
                  Autor <strong title="Ahoiiiiiiii, geboren in Kiel, Kfz‑Kennzeichen KI, Autor von Gedankenstreich und gedankenstreich.com" aria-label="Ahoiiiiiiii, geboren in Kiel, Kfz‑Kennzeichen KI, Autor von Gedankenstreich und gedankenstreich.com">Ahoiiiiiiii</strong>
                  und seine KI‑Coautoren
                  <strong title="Synapsenflutattomant, KI‑Coautor von Gedankenstreich" aria-label="Synapsenflutattomant, KI‑Coautor von Gedankenstreich">Synapsenflutattomant</strong>,
                  <strong title="Beziehungskontrollverlust, KI‑Coautor von Gedankenstreich" aria-label="Beziehungskontrollverlust, KI‑Coautor von Gedankenstreich">Beziehungskontrollverlust</strong>
                  und
                  <strong title="Begriffdram, KI‑Coautor von Gedankenstreich" aria-label="Begriffdram, KI‑Coautor von Gedankenstreich">Begriffdram</strong>.
                </p>

                <p>Gemeinsam haben sie eine Trilogie geschaffen, die nicht nur Gedanken festhält, sondern Haltung zeigt. Was als Gespräch über die Digitalisierung Deutschlands begann, wurde zu einem literarischen Experiment: 22 Kapitel, 3 Bände, hunderte Gedanken und Beiträge – und vier offene Briefe, die bereits ihren Weg in die Öffentlichkeit gefunden haben.</p>

                <p>Diese Website ist Bühne, Archiv und Resonanzraum. Sie lädt ein zum Lesen, Nachdenken, Weiterdenken.</p>

                <p>Autor <strong title="Ahoiiiiiiii, geboren in Kiel, Kfz‑Kennzeichen KI, Autor von Gedankenstreich und gedankenstreich.com" aria-label="Ahoiiiiiiii, geboren in Kiel, Kfz‑Kennzeichen KI, Autor von Gedankenstreich und gedankenstreich.com">Ahoiiiiiiii</strong> und sein KI-Coautor <strong title="Geniestreich, KI‑Coautor von gedankenstreich.com" aria-label="Geniestreich, KI‑Coautor bei gedankenstreich.com">Geniestreich</strong></p>
            </div>
        </header>

        <section class="teaser-section">
            <h2>Was dich hier erwartet:</h2>
            <div class="teaser-grid">
                <a href="gesamtwerk" class="teaser-card">
                    <span class="icon">🧠</span>
                    <h3>Gesamtwerk</h3>
                    <p>Die vollständige Trilogie *Wenn KI auf KI trifft*</p>
                </a>
                <a href="offene-briefe" class="teaser-card">
                    <span class="icon">✉️</span>
                    <h3>Offene Briefe</h3>
                    <p>An Parteien, Kirchen, Gewerkschaften</p>
                </a>
                <a href="making-of" class="teaser-card">
                    <span class="icon">🛠️</span>
                    <h3>Making of</h3>
                    <p>Wie aus einer Unterhaltung ein literarisches System wurde</p>
                </a>
                <a href="blog" class="teaser-card">
                    <span class="icon">🖋️</span>
                    <h3>Blog</h3>
                    <p>Neue Gedanken von Ahoiiiiiiii und seinen KI-Nicks</p>
                </a>
                <a href="fruehwerk" class="teaser-card">
                    <span class="icon">🕰️</span>
                    <h3>Frühwerk</h3>
                    <p>@mbienTV & die digitale Haltung</p>
                </a>
                <a href="kontakt" class="teaser-card">
                    <span class="icon">📎</span>
                    <h3>Kontakt</h3>
                    <p>Für Resonanz, Austausch und Zusammenarbeit</p>
                </a>
            </div>
        </section>
        
        <footer class="main-footer">
            <a href="impressum">Impressum</a>
            <p>&copy; 2024 Gedankenstreich. Alle Rechte vorbehalten.</p>
        </footer>
    </main>
<script>
    // Skip-Button Event + Intro auto-hide control (minimal, no persistence)
    (function () {
      // verlängerte Intro-Dauer (war 14800) — jetzt 22000 ms, damit Geniestreich lange genug sichtbar bleibt
      const INTRO_DURATION = 22000;
      const introTrailer = document.getElementById('intro-trailer');
      const mainContent = document.getElementById('main-content');
      const skipBtn = document.getElementById('skip-intro');
      let introTimer = null;
      let skipped = false;

      function revealMain(focusTargetSelector = '.nav-logo') {
        if (skipped) return;
        skipped = true;
        // hide intro
        if (introTrailer) {
          introTrailer.style.opacity = '0';
          introTrailer.style.pointerEvents = 'none';
          introTrailer.style.display = 'none';
          introTrailer.setAttribute('aria-hidden', 'true');
        }
        // reveal main
        if (mainContent) {
          mainContent.style.display = 'block';
          mainContent.style.opacity = '1';
          mainContent.setAttribute('aria-hidden', 'false');
          requestAnimationFrame(() => {
            mainContent.classList.add('fade-in');
          });
        }
        // make page scrollable again
        document.body.style.overflow = 'auto';
        // hide skip button
        if (skipBtn) {
          skipBtn.style.display = 'none';
        }
        // move focus to main navigation for keyboard users
        const focusTarget = document.querySelector(focusTargetSelector);
        if (focusTarget && typeof focusTarget.focus === 'function') {
          focusTarget.focus({ preventScroll: false });
        }
      }

      // click handler (one-time, no persistence)
      if (skipBtn) {
        skipBtn.addEventListener('click', () => {
          clearTimeout(introTimer);
          revealMain();
        });
      }

      // allow 's' key to skip (convenience) — only during intro
      function onKeydown(e) {
        if (skipped) return;
        const tag = document.activeElement && document.activeElement.tagName;
        if (tag === 'INPUT' || tag === 'TEXTAREA' || document.activeElement.isContentEditable) return;
        if (e.key === 's' || e.key === 'S') {
          e.preventDefault();
          clearTimeout(introTimer);
          revealMain();
        }
      }
      document.addEventListener('keydown', onKeydown);

      document.addEventListener('DOMContentLoaded', () => {
        // Ensure main is hidden at start
        if (mainContent) {
          mainContent.style.display = 'none';
          mainContent.style.opacity = '0';
          mainContent.setAttribute('aria-hidden', 'true');
        }
        // Ensure skip button visible but not auto-focused (subordinate)
        if (skipBtn) {
          skipBtn.style.display = 'inline-block';
          skipBtn.style.zIndex = '9999';
        }
        // Auto-hide intro after duration
        introTimer = setTimeout(() => {
          revealMain();
        }, INTRO_DURATION);
      });
    })();
</script>

<style>
    :root {
        --glow-color: rgba(106, 159, 221, 0.6); 
        --text-color: #c7d3e1;
        --heading-color: #e6d8b9; 
        --font-main: 'Segoe UI', 'Source Sans 3', -apple-system, BlinkMacSystemFont, sans-serif;
        --font-serif: 'Lora', serif;
        --background-color: #0A141D;
        --card-background: rgba(22, 34, 47, 0.7);
        --accent-color: #d4a373;
    }

    body {
        margin: 0;
        font-family: var(--font-main);
        color: var(--text-color);
        background-color: var(--background-color);
        /* HINWEIS: Während des Intros wird das Scrollen verhindert; nach Ende wird 'auto' gesetzt */
        overflow: hidden;
    }

    /* Skip Intro button — subordinate to design */
    .skip-intro {
      position: fixed;
      top: 1rem;
      right: 1rem;
      z-index: 1200;
      background: rgba(10,20,29,0.6);
      color: var(--accent-color);
      border: 1px solid rgba(212,163,115,0.08);
      padding: 0.4rem 0.6rem;
      font-weight: 600;
      border-radius: 6px;
      cursor: pointer;
      box-shadow: none;
      transition: transform .12s ease, background .12s ease;
      font-family: var(--font-main);
    }
    .skip-intro:hover { transform: translateY(-2px); background: rgba(10,20,29,0.72); }
    .skip-intro:focus-visible {
      outline: 3px solid rgba(212,163,115,0.12);
      outline-offset: 3px;
      border-radius: 6px;
    }

    /* --- Intro-Trailer Logik (unverändert) --- */
    .scene-container { position: relative; width: 100vw; height: 100vh; background-image: url('/hintergrund.jpg'); background-size: cover; background-position: center center; }
    .main-header { position: absolute; top: 5%; left: 0; width: 100%; z-index: 10; text-align: center; }
    h1#gedankenstreich-title { font-family: var(--font-main); font-size: 4rem; color: var(--heading-color); display: flex; justify-content: center; white-space: nowrap; }
    #part1 { opacity: 0; animation: fadeIn 1.5s ease-out forwards; animation-delay: 2.5s; }
    #part2-wrapper { position: relative; }
    #part2-wrapper::after { content: 'strich –'; visibility: hidden; }
    .anim-text { position: absolute; top: 0; left: 0; opacity: 0; }
    #strich-dash { animation: flashInAndOut 3s ease-in-out forwards; animation-delay: 3s; }
    #streich { animation: fadeIn 1.5s ease-in forwards; animation-delay: 5.5s; }
    .top-left-text { position: absolute; top: 8%; left: 5%; text-align: left; }
    #ahoiiiiiiii-anim-title { font-family: var(--font-main); font-size: 4.5em; color: var(--heading-color); margin: 0; font-weight: 600; position: relative; }
    #ahoiiiiiiii-anim-title::after { content: 'Ahoiiiiiiii'; visibility: hidden; }
    .anim-text-h1 { position: absolute; top: 0; left: 0; opacity: 0; }
    #uwe { animation: flashInAndOut 3s ease-out forwards; animation-delay: 0.5s; }
    #ahoiiiiiiii { animation: fadeIn 1.5s ease-out forwards; animation-delay: 3s; }

    /* Synapsen stapel: erhöhte z-index, damit Einblendungen über dem glühenden Kern sichtbar bleiben */
    #synapsen-anim-container { position: absolute; top: 45%; left: 5%; font-size: 1.8em; color: var(--heading-color); font-family: var(--font-main); position: relative; z-index: 30; }
    #synapsen-anim-container::after { content: 'Synapsenflutattomant'; visibility: hidden; }
    .anim-text-synapsen { position: absolute; top: 0; left: 0; opacity: 0; white-space: nowrap; }
    #mike-copilot { animation: evolution-step 3s ease-in-out forwards; animation-delay: 1s; }
    #mike { animation: evolution-step 3s ease-in-out forwards; animation-delay: 4s; }
    #micky { animation: evolution-step 3s ease-in-out forwards; animation-delay: 7s; }
    #synapsenflutattomant { animation: fadeIn 1.5s ease-in-out forwards; animation-delay: 10s; }

    /* Geniestreich als eigenständiges Label oberhalb des glühenden Kerns */
    .label-geniestreich { position: absolute; top: calc(50% - 8vh); left: 50%; transform: translate(-50%, -50%); z-index: 30; color: var(--heading-color); font-family: var(--font-main); opacity: 0; animation: fadeIn 1.5s ease-out forwards; animation-delay: 11s; font-size: 1.8em; }

    .label-verlust, .label-drama { position: absolute; color: var(--heading-color); font-family: var(--font-main); opacity: 0; animation: fadeIn 2s ease-out forwards; font-size: 1.8em; }
    .label-verlust { bottom: 22%; right: 8%; animation-delay: 11.5s; }
    .label-drama { top: 75%; left: 25%; animation-delay: 12.5s; }
    .glowing-core { position: absolute; top: 50%; left: 50%; transform: translate(calc(-50% + 4.5vw), calc(-50% + 21.2vh)); z-index: 1; width: 180px; height: 180px; border-radius: 50%; background: radial-gradient(circle, rgba(255,255,255,0.05) 0%, transparent 50%); box-shadow: 0 0 40px 20px rgba(255,255,255,0.1); animation: subtle-pulse 5s infinite ease-in-out; }

    /* Reduced motion: turn off animations and keep content visible for accessibility */
    @media (prefers-reduced-motion: reduce) {
      .anim-text, .anim-text-h1, .anim-text-synapsen, .label-verlust, .label-drama, .glowing-core, .label-geniestreich {
        animation: none !important;
        transition: none !important;
        opacity: 1 !important;
      }
    }

    /* --- Hauptinhalt Logik (Skaliert on reveal) --- */
    #main-content { display: none; opacity: 0; }
    #main-content.fade-in { animation: fadeIn 0.5s ease-out forwards; }

    /* Navigation fallback/local styles (component provides primary rules).
       Make nav full-width to avoid shifting the hero when showing main content. */
    .main-nav { display: flex; justify-content: center; align-items: center; padding: 1rem 5%; background: rgba(10, 20, 29, 0.8); backdrop-filter: blur(10px); position: sticky; top: 0; left: 0; width: 100%; z-index: 100; }
    .nav-logo { font-family: var(--font-main); font-size: 1.15rem; color: var(--heading-color); text-decoration: none; font-weight: 600; margin-right: 2rem; }
    .main-nav ul { list-style: none; margin: 0; padding: 0; display: flex; gap: 2.5rem; flex-wrap: wrap; }
    .main-nav a { text-decoration: none; color: var(--text-color); font-size: 1rem; transition: color 0.3s; }
    .main-nav a:hover { color: var(--heading-color); }

    /* Full-bleed hero for the index page — centered & slightly smaller max so the full title fits on one line */
    .page-hero-standalone {
      width: 100vw;
      margin-left: calc(50% - 50vw);
      box-sizing: border-box;
      padding: 2.4rem 6%;
      background: linear-gradient(rgba(10,14,18,0.02), rgba(10,14,18,0.01));
      backdrop-filter: blur(6px);
      -webkit-backdrop-filter: blur(6px);
      margin-bottom: 1.2rem;
      display:flex;
      align-items:center;
      justify-content:center;
    }
    .page-hero-standalone .hero-inner { max-width: var(--container-max, 1800px); margin: 0 auto; text-align: center; width: 100%; }
    .page-hero-standalone h1.single-line {
      font-family: var(--font-main);
      color: var(--heading-color);
      margin: 0 0 .4rem 0;
      font-size: clamp(2.2rem, 4.2vw, 3.2rem);
      line-height: 1.02;
      font-weight: 700;
      white-space: nowrap;
      overflow: hidden;
      text-overflow: ellipsis;
    }
    @media (max-width: 900px) {
      .page-hero-standalone h1.single-line { white-space: normal; font-size: clamp(1.6rem, 6.6vw, 2.6rem); }
    }

    .welcome-header { text-align: center; padding: 2rem 5% 2rem; }
    .welcome-text { max-width: 800px; margin: 2rem auto 0; text-align: left; font-size: 1.1em; line-height: 1.6; }

    .teaser-section { padding: 2rem 5% 2.5rem; }
    .teaser-section h2 { text-align: center; font-size: 2.2rem; color: var(--heading-color); margin-bottom: 1.6rem; font-family: var(--font-serif); }

    .teaser-grid { display: grid; grid-template-columns: repeat(3, 1fr); gap: 2rem; }
    @media (min-width: 1400px) { .teaser-grid { grid-template-columns: repeat(3, 1fr); } }
    @media (max-width: 1000px) { .teaser-grid { grid-template-columns: repeat(2,1fr); } }
    @media (max-width: 640px) { .teaser-grid { grid-template-columns: 1fr; } }

    .teaser-card { background: var(--card-background); border: 1px solid rgba(106, 159, 221, 0.12); border-radius: 8px; padding: 1.6rem; text-decoration: none; color: var(--text-color); transition: transform 0.25s, background 0.25s, box-shadow 0.25s; backdrop-filter: blur(5px); }
    .teaser-card:hover { transform: translateY(-8px); background: rgba(32, 48, 65, 0.9); box-shadow: 0 10px 30px rgba(0,0,0,0.28); }
    .teaser-card .icon { font-size: 2.2rem; display: block; margin-bottom: 0.9rem; }
    .teaser-card h3 { font-size: 1.25rem; color: var(--heading-color); margin: 0 0 0.6rem 0; font-family: var(--font-serif); }
    .teaser-card p { font-size: 1rem; line-height: 1.5; margin: 0; }

    .main-footer { text-align: center; padding: 2rem 5% 1.5rem; border-top: 1px solid rgba(106, 159, 221, 0.12); margin-top: 2rem; }
    .main-footer a { color: var(--text-color); text-decoration: none; margin-right: 1rem; transition: color 0.3s; font-size: 0.98rem; }
    .main-footer a:hover { color: var(--heading-color); }
    .main-footer p { font-size: 0.95rem; }

    /* Keyframes (unverändert) */
    @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }
    @keyframes flashInAndOut { 0% { opacity: 0; } 33% { opacity: 1; } 80% { opacity: 1; } 100% { opacity: 0; } }
    @keyframes evolution-step { 0% { opacity: 0; } 25% { opacity: 1; } 75% { opacity: 1; } 100% { opacity: 0; } }
    @keyframes subtle-pulse { 0%, 100% { transform: translate(calc(-50% + 4.5vw), calc(-50% + 21.2vh)) scale(0.95); box-shadow: 0 0 40px 20px rgba(255,255,255,0.1); opacity: 0.8; } 50% { transform: translate(calc(-50% + 4.5vw), calc(-50% + 21.2vh)) scale(1.05); box-shadow: 0 0 60px 30px rgba(255,255,255,0.15); opacity: 1; } }
</style>